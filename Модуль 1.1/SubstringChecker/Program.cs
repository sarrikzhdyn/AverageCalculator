using System; // Подключаем библиотеку для работы с консолью и строками

namespace SubstringChecker // Пространство имён для организации кода
{
    class Program // Основной класс программы
    {
        static void Main(string[] args) // Точка входа в программу
        {
            // Выводим приветственное сообщение с инструкцией
            Console.WriteLine("Программа проверяет, является ли вторая строка подстрокой первой (без учёта регистра).");

            // Запускаем бесконечный цикл для многократной проверки строк
            while (true)
            {
                // Запрашиваем первую строку от пользователя
                Console.Write("Введите первую строку: ");
                string firstString = Console.ReadLine(); // Считываем первую строку

                // Проверяем, не является ли первая строка пустой или null
                if (string.IsNullOrEmpty(firstString))
                {
                    Console.WriteLine("Ошибка: первая строка не может быть пустой!"); // Сообщение об ошибке
                    continue; // Возвращаемся к началу цикла для нового ввода
                }

                // Запрашиваем вторую строку от пользователя
                Console.Write("Введите вторую строку: ");
                string secondString = Console.ReadLine(); // Считываем вторую строку

                // Проверяем, не является ли вторая строка пустой или null
                if (string.IsNullOrEmpty(secondString))
                {
                    Console.WriteLine("Ошибка: вторая строка не может быть пустой!"); // Сообщение об ошибке
                    continue; // Возвращаемся к началу цикла для нового ввода
                }

                // Проверяем, является ли вторая строка подстрокой первой, игнорируя регистр
                bool isSubstring = firstString.ToLower().Contains(secondString.ToLower()); // Приводим обе строки к нижнему регистру

                // Находим позицию подстроки (если она есть)
                int position = firstString.ToLower().IndexOf(secondString.ToLower()); // Возвращает индекс первого вхождения или -1, если не найдено

                // Выводим результат проверки
                if (isSubstring)
                {
                    // Выводим сообщение с позицией подстроки
                    Console.WriteLine($"Да, строка \"{secondString}\" является подстрокой строки \"{firstString}\".");
                    Console.WriteLine($"Она начинается с позиции {position + 1} (нумерация с 1).");
                }
                else
                {
                    // Выводим сообщение, если подстрока не найдена
                    Console.WriteLine($"Нет, строка \"{secondString}\" не является подстрокой строки \"{firstString}\".");
                }

                // Спрашиваем, хочет ли пользователь продолжить
                Console.Write("Хотите проверить ещё раз? (да/нет): ");
                string continueAnswer = Console.ReadLine().ToLower(); // Считываем ответ и приводим к нижнему регистру
                if (continueAnswer != "да" && continueAnswer != "yes") // Проверяем, хочет ли пользователь выйти
                {
                    break; // Выходим из цикла, если ответ не "да" или "yes"
                }
                Console.WriteLine(); // Пустая строка для удобства чтения
            }

            // Выводим прощальное сообщение при завершении программы
            Console.WriteLine("Спасибо за использование программы!");
        }
    }
}
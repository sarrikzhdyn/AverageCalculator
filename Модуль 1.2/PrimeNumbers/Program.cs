using System; 

namespace PrimeNumbers 
{
    class Program 
    {
        static void Main(string[] args) 
        {
            // Выводим приветственное сообщение
            Console.WriteLine("Программа находит K простых чисел и выводит их по 10 в строке.");

            // Запрашиваем количество простых чисел K
            Console.Write("Введите количество простых чисел K: ");
            string inputK = Console.ReadLine(); // Считываем ввод
            int k;

            // Проверяем, является ли ввод корректным положительным числом
            if (!int.TryParse(inputK, out k) || k <= 0)
            {
                Console.WriteLine("Ошибка: введите положительное целое число!"); // Сообщение об ошибке
                return; // Завершаем программу при некорректном вводе
            }

            // Создаём массив для хранения K простых чисел
            int[] primes = new int[k];

            // Находим K простых чисел
            int count = 0; // Счётчик найденных простых чисел
            int number = 2; // Начинаем проверку с 2 (первое простое число)
            while (count < k)
            {
                if (IsPrime(number)) // Проверяем, является ли число простым
                {
                    primes[count] = number; // Сохраняем простое число в массив
                    count++; // Увеличиваем счётчик
                }
                number++; // Переходим к следующему числу
            }

            // Выводим простые числа по 10 в строке
            Console.WriteLine("\nПростые числа:");
            for (int i = 0; i < primes.Length; i++)
            {
                Console.Write($"{primes[i],-4}"); // Выводим число с выравниванием (4 символа на число)
                if ((i + 1) % 10 == 0 || i == primes.Length - 1) // Проверяем, нужно ли начать новую строку
                {
                    Console.WriteLine(); // Переходим на новую строку после 10 чисел или в конце
                }
            }
        }

        // Метод для проверки, является ли число простым
        static bool IsPrime(int number)
        {
            // 1 не является простым числом
            if (number <= 1)
            {
                return false; // Возвращаем false для чисел ≤ 1
            }

            // Проверяем делители от 2 до квадратного корня числа
            for (int i = 2; i <= Math.Sqrt(number); i++)
            {
                if (number % i == 0) // Если число делится на i, оно не простое
                {
                    return false; // Возвращаем false
                }
            }
            return true; // Число простое, если нет делителей
        }
    }
}